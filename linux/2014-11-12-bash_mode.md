# bash的各种模式

ssh 登录执行命令时, 加载配置文件

	export BASH_ENV=/etc/profile


至此，四种模式下配置文件如何加载已经讲完，因为涉及的配置文件有些多，我们再以两个图来更为直观的进行描述：

第一张图来自这篇文章，bash的每种模式会读取其所在列的内容，首先执行A，然后是B，C。而B1，B2和B3表示只会执行第一个存在的文件：


	+----------------+--------+-----------+---------------+
	|                | login  |interactive|non-interactive|
	|                |        |non-login  |non-login      |
	+----------------+--------+-----------+---------------+
	|/etc/profile    |   A    |           |               |
	+----------------+--------+-----------+---------------+
	|/etc/bash.bashrc|        |    A      |               |
	+----------------+--------+-----------+---------------+
	|~/.bashrc       |        |    B      |               |
	+----------------+--------+-----------+---------------+
	|~/.bash_profile |   B1   |           |               |
	+----------------+--------+-----------+---------------+
	|~/.bash_login   |   B2   |           |               |
	+----------------+--------+-----------+---------------+
	|~/.profile      |   B3   |           |               |
	+----------------+--------+-----------+---------------+
	|BASH_ENV        |        |           |       A       |
	+----------------+--------+-----------+---------------+


refs:  
[ssh连接远程主机执行脚本的环境变量问题](http://www.udpwork.com/item/13503.html)  
[ssh连接远程主机执行脚本的环境变量问题](http://feihu.me/blog/2014/env-problem-when-ssh-executing-command-on-remote/)  