# linux 输入输出错误重定向
Linux默认输入是键盘，输出是显示器。你可以用重定向来改变这些设置。

常见的句柄有三种，当然句柄可以自行扩展，一般的OS都提供类似的功能。
```
    句柄   句柄代号   句柄描述
    STDIN  0        键盘输入
    STDOUT 1        输出信息到提示符窗口
    STDERR 2        输出错误信息到提示符窗口
```
默认的 < 重定向输入操作符是 0，而默认的 > 重定向输出操作符是 1。键入 < 或 > 操作符之后，必须指定数据的读写位置，可以是文件名或其他现有的句柄。
要指定重定向到现有句柄，请使用与 & 字符，后面接要重定向的句柄号(即 &句柄号)。

下面的命令可以将句柄 2(即 STDERR)重定向到句柄 1(即 STDOUT)：`2>&1`
下表列出了可用于重定向输入和输出数据流的操作符：
 
　　Linux重定向操作符 功能描述
 
　　`>` 将命令输出写入文件或设备，而不是命令提示符或句柄
 
　　`<` 从文件而不是从键盘或句柄读入命令输入
 
　　`>>` 将命令输出添加到文件末尾而不删除文件中已有的信息
 
　　`>&` 将一个句柄的输出写入到另一个句柄的输入中
 
　　`<&` 从一个句柄读取输入并将其写入到另一个句柄输出中
 
　　`|` 从一个命令中读取输出并将其写入另一个命令的输入中;也称为管道操作符. 管道“|”(pipe line):上一个命令的 stdout 接到下一个命令的 stdin;

我们回过头来看看上面的那条语句`mysh > mylog.txt 2>&1`就可明白：  
`> mylog.txt`意思是将标准输出重定向到mylog.txt，等价于`mysh 1> mylog.txt`;  
`2 >& 1` 意思是将错误输出重定向到句柄1标准输出;综合起来就是mysh命令执行过程中产生的标准输出和错误输出都会被重定向到mylog.txt中;  

某些时候我们可能并不希望记录什么标准输出或者是错误输出，那可以用`mysh >null 2>null`或者`mysh >/dev/null 2>/dev/null;`


## 进阶IO
　　`>&n` 使用系统调用 dup (2) 复制文件描述符 n 并把结果用作标准输出;
　　`<&n` 标准输入复制自文件描述符 n;
　　`<&-` 关闭标准输入(键盘);
　　`>&-` 关闭标准输出;
　　`n<&-` 表示将 n 号输入关闭;
　　`n>&-` 表示将 n 号输出关闭




refs:  
[Linux输入输出错误重定向](http://blog.sina.com.cn/s/blog_439f80c40101g2hr.html)  