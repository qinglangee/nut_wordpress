# matlab 从入门到精通
[数学建模比赛 MATLAB 从入门到精通教程](https://www.bilibili.com/video/BV19J411W7Ta?from=search&seid=12145742175932168871)  

## p1 1.1 课程导入
1' 什么是计算

4'30 什么是科学计算？  

6'12 科学计算与马特烂部的关系  

7'54 例子  
求 x^2 - 3x + 1 = 0   

TMD 还没到10分钟就听不懂了。。。  

12'40 本课程的主要内容  


## p2 2.1 MATLAB 系统环境 

专题一 基础知识
1.1 matlab 系统环境
1.2 matlab 数值操作
1.3 变量及操作
1.4 matlab 矩阵的表示
1.5 矩阵元素的引用
1.6 matlab 基本运算
1.7 字符串处理  

### 2.1.1 matlab 系统环境  
界面介绍  

... 续行符   

设置当前文件夹: 用选择或 cd 命令  

搜索路径  
变量 -> 内部函数 -> 程序文件 -> 先搜当前文件夹，没有就搜文件搜索路径中的程序文件  

clear 清除

变量名会覆盖内部函数  

设置文件搜索路径: path(path, 'e:\work')   2 使用设置路径按钮  

## p3 2.2 matlab 数值数据  
整形 浮点型 复型

整型  8 16 32 64位  无符号  带符号  

uint8()  int8()  转换函数  

浮点型  单精度 4字节  双精度 8字节  
single()  double()  转换函数  
6+5i == 6+5j
复型   
real()  imag() 虚部 

format 格式符  
format long     15位

format   默认 short 格式  4位

常用数学函数  
1. 以角度为单位的在函数名后加d 
sin(aa)  
sind(aa)

2. abs 函数可以求实数的绝对值、复数的模、字符串的ASCII码值  

3. 取整 fix去掉小数 floor向下 ceil 向上 round 四舍五入

4. m=345  m1=rem(m, 10)   rem 是取模  

5. isprime(n)  判断 n 是不是素数

6. 求 [1，100] 间的所有素数

x=1:100;
k=isprime(x);
k1 = find(k);    find() 是干嘛的呢？
p = x(k1)

## p4 2.3 变量及其操作

变量与赋值语句  
变量名最多63个字符 以字母开头 可有数字 下划线  区分大小写  
命令用户内容函数用小写  

预定义变量  
ans 是默认赋值变量  
i j 代表虚数单位  
pi 代表圆周率  
NaN 代表非数  


变量的删除与修改  
在工作区中可以删除与修改  
who
whos  显示内存变量  

.mat 内存变量文件  
save 
save mydata a x   # 把变量 a x 保存到 mydata.mat 文件中
load 命令
load mydata # 加载 mydata.mat 文件


## p5 2.4 matlab 矩阵的表示 

矩阵的建立  

直接输入法  
A = [1,2,3;4,5,6;7,8,9]  用逗号或空格分隔列， 分号分隔行  

C = [A,B;B,A]  小的组大的  

`C = A + i*B `

冒号表达式   start : step : end , step 默认1， 可以省略

linspace(a,b,n)  n 省略时产生100个元素  


结构矩阵和单元矩阵  

结构数据组成的矩阵
结构矩阵元素.成员名 = 表达式  

单元矩阵的元素是不同类型的，所有数据就大括号包围起来 
A = {1,"na";2,"ba"}


## p6 2.5 矩阵元素的引用
通过下标来引用
A(3,2) = 200  对第3行第2列的元素赋值  

下标越界， matlat 会自动扩充矩阵  


通过序号引用  
整体数据是按列存储，按总体序号可以访问元素  

sub2ind()  将矩阵中指定元素的行列下标转换成存储的序号。 sub2ind(S,I,J)  S是行数和列数的向量 I 行 J 列  
size(A)  -> 返回矩阵A对应的S的向量  

ind2sub()  [I,J] = ind2sub(S,D)

用冒号表达式获得子矩阵  

A(:,i)  A(k:k+m, :)



end 表示某一维的末尾元素的下标  

A(1:4,3:end)


空矩阵是没有任何元素的矩阵  

A(:,2:4) = []  


改变矩阵的形状  
reshape(A,m,n)   可以把一行A个元素换成m 行n列  

A(:)  把 A 矩阵转换成一行的向量  

## p7 2.6 matlab  基本运算 
算术运算
关系运算
逻辑运算

算术运算分为基本算术运算和点运算  

基本算术运算  就是四则运算 

`.*  ./ .\ `


关系运算  
`< <= > >= == ~=`  `~= 不等于`

逻辑运算 与 或 非   
& | ~ 

## p8 2.7 字符串处理
单引号括起来的是字符串  
取子串  xx = xx(1:3)
下标从1开始  

多行字符串，矩阵，各行长度要一样 

倒序 ch(end:-1:1)  

length(A)  矩阵长度  

字符串的执行
eval(s)

字符串与数值转换
abs 和 double 函数都可以用来获取字符串矩阵所对应的 ASCII 码数值矩阵  

字符串的比较
关系运算符或字符串比较函数  

运算符比较是得出同长的矩阵，每个字符比较  

strcmp(s1, s2)  相同返回1， 不同返回0
strncmp(s1, s2, n) 比较前n 个字符
strcmpi(s1, s2) 忽略大小写比较
strncmpi(s1, s2, n)  忽略大小写比较前 n 个

findstr(s1, s2) 返回短的在长的中的位置
strrep(s1, old, new)  替换

## p9 3.1 特殊矩阵
2.1 特殊矩阵
2.2 矩阵变换
2.3 矩阵求值
2.4 矩阵的特征值与特征向量
2.5 稀疏矩阵  


特殊矩阵分为  
通用性的特殊矩阵  
用于专门学科的特殊矩阵  


通用性的特殊矩阵  
zeros()  零矩阵
ones()  1矩阵
eye()  对角线矩阵
rand() (0,1)随机矩阵
randn()  产生均值0 方差1的 标准正态分布随机矩阵  
设 r = randn(), a + br 产生均值为a, 方差为b^2 的正态分布随机矩阵  

zeros(m)  m 行 m 列
zeros(m, n)  m 行 n 列  
zeros(size(A))  产生与矩阵A同样大小的矩阵  

例子: 首先产生5阶两位随机整数矩阵A, 再产生均值为0.6,方差为0.1的5阶正太分布随机矩阵B， 最后验证(A+B)I = IA + BI (I为单位矩阵)。  

5阶就是5行5列的矩阵  
```
A = fix(10+(99-10+1)*rand(5));
B = 0.6 + sqrt(0.1)*randn(5);
C = eye(5)
(A+B)*C == C*A + B*C
```


用于专门学科的特殊矩阵  

1 魔方矩阵 - Magic Square  
每行每列的和相等， 与主对角线的和也相等  
和的值为 ( 1 + 2 + 3 + ... + n^2 )/n = (n+n^3)/2
M=magic(3)  产生 n 阶魔方矩阵
n>2时，有多种， magic() 只产生一个

2 范德蒙矩阵  
对于向量 v=[v1,v2,...,vn], 范德蒙矩阵的一般形式为:  
```
       [v1^(n-1) ... v1^2 v1^1 v1^0]
       [v2^(n-1) ... v2^2 v2^1 v2^0]
V =    [v3^(n-1) ... v3^2 v3^1 v3^0]
       [         ...               ]
       [vn^(n-1) ... vn^2 vn^1 vn^0]
``` 

vander(V) 生成以向量 V 为基础的范德蒙矩阵  
例 :  A = vander(1:5)   


3 希尔伯特矩阵(Hilbert)  
n 阶希尔伯特矩阵的一般形式为  
```
    [1      1/2    ...     1/n  ]
H = [1/2    1/3    ...  1/(n+1) ]
    [              ...          ]
    [1/n  1/(n+1)  ...  1/(2n-1)]
```
H(i,j) = 1/(i+j-1)

hilb(n) 生成 n 阶希尔伯特矩阵  

是著名的变态矩阵/病态矩阵???  


4 伴随矩阵  13'25 不知道干嘛用的
设多项式  p(x) 为 好麻烦。。。

compan(p), 其中p是一个多项式的系数向量。 高在前低在后  
伴随矩阵的特征值等于多项式方程的根  


5 帕斯卡矩阵  
根据二项式定理， (x+y)^n 展开后的系数随着 n 的增大组成一个三角形表，称为杨辉三角形。  

把杨辉三角形填到矩阵左上角，取左边的方阵就是帕斯卡矩阵。  

pascal(n) 生成n阶帕斯卡矩阵  

inv(P)  求逆矩阵   


## p10 3.2 矩阵变换
2.2 矩阵变换  

对角阵  
三角阵
矩阵的转置、旋转、翻转、求逆  

对角阵  只有对角线上有非零元素的矩阵
数量矩阵  对角线上元素相等的对角矩阵。
单位矩阵  对角线上元素都为1的对角矩阵。 

提取矩阵的对角元素 

diag(A)  提取主对角线 第0条
diag(A,k) 提取第k条对角线    往上为1 2 .. n  往下为 -1 -2 .. -n


diag(V) 以向量 v 为主对角线，产生对角矩阵
diag(V, k)

对角矩阵左乘矩阵就相当于每个对角乘一行
对角矩阵左乘矩阵就相当于每个对角乘一列


三角阵  上三角阵   下三角阵

triu(A) up 取上三角阵
triu(A,k)

tril(A) low  取下三角阵

矩阵转置
转置  (.')

共轭转置 (')  转置后还要取每个数的复共轭。   共轭复数，两个实部相等，虚部互为相反数的复数互为共轭复数


rot90(A, k)  将矩阵逆时针旋转90度的倍数，k=1时可省略

矩阵的翻转  

fliplr(A)  左右翻转  left right
flipud(A)  上下翻转  up down

sum(V)  求和 

矩阵求逆  
方阵A  AB=BA=I I是单位矩阵，则AB互为逆矩阵  

inv(A)  求逆矩阵  


用求逆矩阵的方法解线性方程组 

A 是系数矩阵  x 是 x,y,z 的列 b 是右边的常数列
方程 Ax=b, 那么 x = A\b  左除，左除是个什么东西呢 
inv(A)Ax=inv(A)b   inv(A)A = 1, 那么 x = inv(A)b


## p11 3.3 矩阵求值  
2.3 矩阵求值  

矩阵的行列式值
矩阵的秩  
矩阵的迹  
矩阵的范数  
矩阵的条件数  


方阵的行列式  
行列式的本质是什么？ - 马同学的回答 - 知乎
https://www.zhihu.com/question/36966326/answer/162550802  
[行列式的来历与克拉默法则](https://www.matongxue.com/madocs/791.html)  
计算方式很复杂，一个方向的对角线和减另一个方向的对角线和，不知道是干嘛用的。。。  
把一个方阵看作一个行列式，并对其按行列的规则求值，这个值就称为方阵所对应的行列式的值  
det(A)  求方阵A所对应的行列式的值  

验证 det(inv(A)) = 1/det(A) 


矩阵的秩  
如何理解矩阵的「秩」？ - Heshawn的回答 - 知乎
https://www.zhihu.com/question/21605094/answer/500813812 
如何理解矩阵的「秩」？ - 马同学的回答 - 知乎
https://www.zhihu.com/question/21605094/answer/167612272
上面讲了秩，但看不明白  
矩阵线性无关的行数或列数称为矩阵的秩。  

rank(A)  求矩阵A的秩  


矩阵的迹  
矩阵的迹等于矩阵的对角线元素之和，也等于矩阵的特征值之和。  

trace(A)  求矩阵A的迹  

向量和矩阵的范数  
用来度量矩阵和向量在某种意义下的长度。 不同定义的范数徝也不同    

1 向量的3种常用范数 
    1 向量元素的绝对值之和             1-范数
    2 向量元素平方和的平方根           2-范数
    3 所有向量元素绝对值中的最大值     ∞-范数

norm(V) norm(V,2)  计算 2-范数
norm(V,1)       计算 1-范数
norm(V,inf)     计算∞-范数  

2 矩阵的三种范数
    1-范数  矩阵列元素绝对值之和的最大值  
    2-范数  A'A矩阵的最大特征值的平方根
    ∞-范数  所有矩阵行元素绝对值之和的最大值  

函数与向量的完全相同  


矩阵的条件数  
矩阵A的条件数等于A的范数与A的逆矩阵的范数的乘积  
这样定义的条件数是大于1的，条件数越接近于1，矩阵的性能越好，反之，矩阵的性能越差。  


与范数对应的三种条件数  
cond(A,1)
cond(A) cond(A,2)
cond(A,inf)


## p12 3.4 矩阵的特征值与特征向量 
2.4 矩阵的特征值与特征向量   

矩阵的特征值的数学定义: 设 A 是 n 阶方阵，如果存在常数 λ 和 n 维非零列向量 x，使得等式 Ax=λx 成立，则称 λ 为 A 的特征值，x 是对应特征值 λ 的特征向量。  

E = eig(A) eigenvalue 求矩阵 A 的全部特征值，构成向量 E. 
[X,D] = eig(A) 求矩阵A的全部特征值，构成对角阵D,并产生矩阵X,X各列是相应的特征向量。 


特征值的几何意义   
相当于缩放矩阵， 把特征向量通过缩放成特征值倍的另一个向量  

工程系统的振动问题 动力系统的稳定性问题 最后可归结为求特征值和特征向量的问题。  


## p13 3.5 稀疏矩阵  
2.5 稀疏矩阵
零元素大大多于非零元素的矩阵。 

矩阵的存储方式   
稀疏存储方式的产生  
稀疏矩阵的应用实例  

矩阵的存储方式  
完全存储方式  按列的顺序存储全部元素 
稀疏存储方式  只存储非零元素的位置和值。 还是按列的顺序存储的。  

A = sparse(S)  转换为稀疏存储
S = full(A)   转换为完全存储

直接建立稀疏矩阵  
spars函数的其它调用格式  
spars(m,n) 产生全零的矩阵

spars(u,v,S)  u,v,S 是三个等长的向量，分别是行列下标和值
A=spars([1,2,3],[3,4,6],[4,8,2])  

spconvert(A)  A为一个mx3或 m x 4 的矩阵， 每行表示一个元素， 行、列、值实部、值虚部  

无规则结构的稀疏矩阵和有规则结构的稀疏矩阵  
带状稀疏矩阵，所有非零元素都在对角线上。  
[B,d] = spdiags(A)  从带状稀疏矩阵 A 中提取全部非零对角线元素赋值给矩阵 B 及其这些非零对角线的位置向量d.  
A = spdiags(B,d,m,n)  反向操作  

单位矩阵   
只有对角线元素为1，其它元素为0
speye(m,n) 产生 mxn 稀疏存储的单位矩阵


## p14 4.1 顺序结构程序

顺序结构 
if 
switch
for
while
函数
递归
函数参数与变量的作用域  

三种结构  顺序 选择 循环  

脚本文件  函数文件 


数据的输入 
A=input('提示信息', 选项)  

输出 
disp('Hello World')

暂停
pause(秒数)

## p15 4.2 用if语句实现选择结构 

if 条件
    语句组
end

标量做条件，不为0为true  矩阵做条件，元素中没有0才为true  

if 条件
    语句组1
else
    语句组2
end 


if 条件1
    语句组1
elseif
    语句组2
else
    语句组3
end

lower()  upper()  转换大小写


##　p16 4.3 用 switch 语句实现选择结构  

switch 表达式
    case 结果表1
        语句组1
    otherwise
end

表达式可以是向量，包含即为 true


num2cell(0:34)  

## p17 4.4 用 for 语句实现循环结构

for 循环变量=初值:步长:终值
    循环体语句
end

结束后k为最后的值 
for k=[1,3,2,5]
end

例子  
利用无穷级数展开求 pi 的近似值   
利用定积分的近似值求pi 的近似值  
利用蒙特卡洛法求 pi 的近似值  用概率值求 pi


for 语句的循环变量也可以是一个列向量  

for i=矩阵表达式
    循环体语句
end  

## p18 4.5 用 while 语句实现循环结构

while 条件
    循环体语句
end  

break  continue   

## p19 4.6 函数文件的定义与调用  
3.6   
基本结构  

function 输出形参表=函数名(输入形参表)
注释说明部分
函数体部分

多个形参用逗号分隔，多个输出形参时，用方括号括起来，形成一个输出矩阵。  

函数文件名通常由函数名加上扩展名.m组成。 函数名与文件名不同时，函数名被忽略。  

return 结束函数 ， 不写 return 自动返回   

匿名函数  

函数句柄变量=@(输入参数) 函数表达式  

函数句柄变量=@函数名     函数别名  

## p20 4.7 函数的递归调用 

## p21 4.8 函数参数与变量的作用域 

函数参数的可调性  
nargin   输入实参的个数
nargout  输出实参的个数  


局部变量  
函数中的变量是局部变量  

全局变量  
global 变量名  


## p22 5.1 二维曲线  绘图   
4.1 二维曲线
4.2 绘制图形的辅助操作
4.3 其他形式的二维图形
4.4 三维曲线
4.5 三维曲面
4.6 图形修饰处理
4.7 交互式绘图工具  


4.1 二维曲线  

plot
fplot

plot(x,y) x,y 是长度相等的向量， 分别是x,y坐标
plot(x)  x 是一个向量， 以下标为x坐标， 值为y坐标 
    x 是复数向量时， 以实况虚部为x,y

x是向量 y 是矩阵时， 以数量相等的那面对齐

x y 是同型矩阵时  
    以 xy 对应列元素为横、纵坐标分别绘制曲线， 曲线条数等于矩阵的列数  

多组向量对则绘制多条曲线

选项  
线形 - 实线 : 虚线 -. --
颜色 r 红 g 绿 b w 白 k 黑， 默认使用当前
数据点标记  * 星号 o 圆圈  s 方块 p 五角星  ^ 朝上三角符号   默认没有  


fplot(f,lims,选项)










